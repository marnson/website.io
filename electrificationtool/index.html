<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Electrification Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Aircraft Electrified Architecture Builder</h1>
    <p>Click the fuel, turbine, battery, and electric motor to toggle their activation. Adjust the transmission power flow slider below the diagram to change the flow of power between electric and mechanical powertrains. If the transmission is active (in an up or down position), the battery and turbine will prioritize giving it power. The checkboxes allow the battery or turbine to send additional power beyond the transmission line. If the propulsor is powered, it will begin to spin! Explore different combinations of active and inactive components to create different propulsion system architectures.
    </p>

    <div id="layout-container">
        <!-- Architecture Diagram -->
        <div id="diagram-container">
            <!-- You can also link an external SVG file if needed -->
            <svg id="arch-diagram" width="600" height="400">
                <!-- Simplified components with unique IDs -->

                <!--- Fuel Box-->
                <rect id="fuel" x="20" y="80" width="80" height="40" class="component" />
                <text x="60" y="105" text-anchor="middle" fill="white" font-size="14">Fuel</text>

                <!--- Turbine Box-->
                <rect id="turbine" x="140" y="80" width="80" height="40" class="component" />
                <text x="180" y="105" text-anchor="middle" fill="white" font-size="14">Turbine</text>

                <!--- Battery Box-->
                <rect id="battery" x="140" y="240" width="80" height="40" class="component" />
                <text x="180" y="265" text-anchor="middle" fill="white" font-size="14">Battery</text>

                <!--- Motor Box-->
                <rect id="motor" x="340" y="240" width="80" height="40" class="component" />
                <text x="380" y="265" text-anchor="middle" fill="white" font-size="14">Elec Motor</text>

                <!--- Transmission Box-->
                <rect id="transmission" x="240" y="160" width="80" height="40" class="component" />
                <text x="280" y="185" text-anchor="middle" fill="white" font-size="14">Transmission</text>

                <!--- Propeller Box (Centered) -->
                <g id="propeller"">
                <polygon points=" 520,140 525,160 520,180 515,160" fill="gray" stroke="black" stroke-width="2" />
                <polygon points="520,180 525,200 520,220 515,200" fill="gray" stroke="black" stroke-width="2" />
                </g>
                <text x="520" y="250" text-anchor="middle" fill="black" font-size="14">Propulsor</text>


                <!--- Lines -->
                <!--- Battery -> BatteryNode -->
                <line id="line-battery-batterynode" x1="220" y1="260" x2="280" y2="260" class="base-line" />
                <line id="flow-battery-batterynode" x1="220" y1="260" x2="280" y2="260" class="flow-line" />
                <line id="charge-battery" x1="280" y1="260" x2="220" y2="260" class="flow-line" />


                <!--- Fuel -> Turbine -->
                <line id="line-fuel-turbine" x1="100" y1="100" x2="140" y2="100" class="base-line" />
                <line id="flow-fuel-turbine" x1="100" y1="100" x2="140" y2="100" class="flow-line" />

                <!--- Turbine -> TurbineNode -->
                <line id="line-turbine-turbinenode" x1="220" y1="100" x2="280" y2="100" class="base-line" />
                <line id="flow-turbine-turbinenode" x1="220" y1="100" x2="280" y2="100" class="flow-line" />

                <!--- TurbineNode -> Thrust Link -->
                <g id="line-turbinenode-thrustlink" class="base-line">
                    <line x1="280" y1="100" x2="470" y2="100" />
                    <line x1="470" y1="100" x2="470" y2="180" />
                </g>

                <g id="flow-turbinenode-thrustlink" class="flow-line" style="visibility: hidden;">
                    <line x1="280" y1="100" x2="470" y2="100" />
                    <line x1="470" y1="100" x2="470" y2="180" />
                </g>

                <!--- Transmission -> TurbineNode -->
                <line id="line-transmission-turbinenode" x1="280" y1="100" x2="280" y2="160" class="base-line" />
                <line id="flowDOWN-transmission-turbinenode" x1="280" y1="100" x2="280" y2="160" class="flow-line" />
                <line id="flowUP-transmission-turbinenode" x1="280" y1="160" x2="280" y2="100" class="flow-line" />

                <!--- Transmission -> BatteryNode -->
                <line id="line-transmission-batterynode" x1="280" y1="200" x2="280" y2="260" class="base-line" />
                <line id="flowDOWN-transmission-batterynode" x1="280" y1="200" x2="280" y2="260" class="flow-line" />
                <line id="flowUP-transmission-batterynode" x1="280" y1="260" x2="280" y2="200" class="flow-line" />

                <!--- Battery Node -> Motor -->
                <line id="line-batterynode-motor" x1="280" y1="260" x2="340" y2="260" class="base-line" />
                <line id="flow-batterynode-motor" x1="280" y1="260" x2="340" y2="260" class="flow-line" />

                <!--- Motor -> Thrust Link -->
                <g id="line-motor-thrustlink" class="base-line">
                    <line x1="420" y1="260" x2="470" y2="260" />
                    <line x1="470" y1="260" x2="470" y2="180" />
                </g>

                <g id="flow-motor-thrustlink" class="flow-line" style="visibility: hidden;">
                    <line x1="420" y1="260" x2="470" y2="260" />
                    <line x1="470" y1="260" x2="470" y2="180" />
                </g>

                <!--- Thrust Link -> Propeller -->
                <line id="line-thrustLink-prop" x1="470" y1="180" x2="520" y2="180" class="base-line" />
                <line id="flow-thrustLink-prop" x1="470" y1="180" x2="520" y2="180" class="flow-line"
                    style="visibility: hidden" />




                <!---No Power Symbols -->
                <image id="no-power-turbine" href="nopower.svg" x="107" y="85" width="25" height="25"
                    visibility="hidden" />
                <image id="no-power-motor" href="nopower.svg" x="297" y="247" width="25" height="25"
                    visibility="hidden" />
                <image id="no-power-transmission-down" href="nopower.svg" x="267" y="117" width="25" height="25"
                    visibility="hidden" />
                <image id="no-power-transmission-up" href="nopower.svg" x="267" y="217" width="25" height="25"
                    visibility="hidden" />

            </svg>

            <!-- Sliders -->
            <div id="controls">
                <div class="slider-wrapper">
                    <label for="transmissionpower">Transmission Power Flow:</label>
                    <input type="range" id="transmissionpower" min="0" max="100" value="50" step="50">
                    <div class="slider-labels">
                        <span>Down</span>
                        <span>Off</span>
                        <span>Up</span>
                    </div>
                </div>

                <div id="options" style="margin-top: 20px;">
                    <label>
                        <input type="checkbox" id="turbine-bypass">
                        Split Turbine Power
                    </label>
                    <br>
                    <label>
                        <input type="checkbox" id="battery-bypass">
                        Split Battery Power
                    </label>
                </div>

                <button id="clear-button">Reset Components</button>

            </div>
        </div>


        <!-- Right: Architecture Info -->
        <div id="architecture-display">
            <h2 id="arch-name">Architecture: â€”</h2>
            <p id="arch-desc">Select components and set power flow to define an architecture.</p>
            <p id="arch-note" class="note"></p> <!-- This is the new note field -->
        </div>

    </div>



    <script src="script.js"></script>
</body>

</html>