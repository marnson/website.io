<script>
  const lines = [
    'maxarnson.com...',
    'is redirecting you to...',
    'The IDEAS Lab at the University of Michigan.'
  ];

  const delays = [1000, 1000, 1000]; // pause after each line
  const redirectURL = 'https://www.gokcincinar.com/authors/maxfield-arnson/';
  const consoleDiv = document.getElementById('console');

  let line = 0;
  let char = 0;
  let skipped = false;

  function redirectNow() {
    if (!skipped) {
      skipped = true;
      window.location.href = redirectURL;
    }
  }

  function type() {
    if (skipped) return;

    if (line < lines.length) {
      if (char < lines[line].length) {
        consoleDiv.textContent += lines[line][char++];
        setTimeout(type, 40);
      } else {
        consoleDiv.textContent += '\n';
        line++;
        char = 0;
        setTimeout(type, delays[line - 1]);
      }
    } else {
      setTimeout(redirectNow, 1200);
    }
  }

  window.addEventListener('click', redirectNow);
  window.addEventListener('keydown', redirectNow);

  type();
</script>
